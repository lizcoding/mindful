{% extends 'base.html' %}
<!-- Show top (highest priority) 3 items and top 3 plans -->

{% block title %} Dashboard {% endblock %}
<!-- 
Bootstrap Cards: https://getbootstrap.com/docs/4.3/components/card/ 
Bootstrap Forms: https://getbootstrap.com/docs/4.3/components/forms/
Bootstrap Modal: https://getbootstrap.com/docs/4.3/components/modal/
Bootstrap Alerts: https://getbootstrap.com/docs/4.3/components/alerts/
Bootstrap Progress: https://getbootstrap.com/docs/4.3/components/progress/ 
-->

{% block content %} 
    <h1>Dashboard</h1>
    <h2>Hi, {{ user.first_name }}</h3>
    
    {% if tracked_items %}
    <ul>
        {% for item in tracked_items %}
        <li><a href="/item/{{item.item_id}}">{{ item }}</a></li>
        {% endfor %}
    </ul>
    {% else %}
        <p>Nothing to see here! Add an item to be tracked.</p>
    {% endif %}

    {% if plans %}
    <ul>
        {% for plan in plans %}
        <li><a href="/plan/{{plan.plan_id}}">{{ plan }}</a></li>
        {% endfor %}
    </ul>
    {% else %}
        <p>Nothing to see here! No active plans!</p>
    {% endif %}

    <h3>Add Items</h3>
    <form action="/add_item" method="POST" enctype="multipart/form-data">
        <div>
        <label for="retailer">Retailer: </label>
        <input type="text" name="retailer" required>
        </div>

        <div>
        <label for="return_window">Return Window Policy (Days): </label>
        <input type="number" name="return_window" required>
        </div>

        <div>
        <label for="brand">Brand: </label>
        <input type="text" name="brand">
        </div>

        <div>
        <label>Reminders: </label>
        <label>Text</label>
        <input type="checkbox" name="text" value="text">
        <label>Email</label>
        <input type="checkbox" name="email" value="email">
        </div>
        
        <div>
        <label for="main_url">Main URL: </label>
        <input type="url" placeholder="https://" pattern="https://.*" name="main_url" required>    
        </div>

        <div>
        <label for="returns_url">Returns URL: </label>
        <input type="url" placeholder="https://" pattern="https://.*" name="returns_url" required>
        </div>

        <div>
            <label for="returns_url">Item URL: </label>
            <input type="url" placeholder="https://" pattern="https://.*" name="item_url" required>
        </div>

        <div>
        <!--
        Accept any file with an image/* MIME type. (Many mobile devices also 
        let the user take a picture with the camera when this is used.)
        * TO-DO: Add "required" after Cloudinary integration
        -->
        <label for="image">Upload Item Images: </label>
        <input type="file" name="image">
        </div>

        
        <div><button type="submit">Add Item</button></div>
    </form>


{% endblock %}

